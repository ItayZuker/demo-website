import React, {useContext, useEffect} from "react";
import {CreateInvitationContext} from "../../../../../../context/create-invitation-context";
import "./create-invitation-type.scss";

const CreateInvitationType = () => {

    /* Global variables */
    const {
        setStage,
        invitation,
        setInvitation,
        setTitle,
        setMessage,
    } = useContext(CreateInvitationContext);

    /* Triggers */
    useEffect(() => {
        updateStageTitles();
        updateInvitationDefault();
    }, []);

    /* Functions */
    const updateStageTitles = () => {
        setTitle("Create Invitation");
        setMessage({
            string: "Select invitation type:",
            highlight: false,
        });
    };

    const updateInvitationDefault = () => {
        setInvitation({
            type: "",
            start: {
                set: false,
            },
            end: {
                set: false,
            },
            duration: {
                set: false,
            },
        });
    };

    const handleClick = (type) => {
        if (type === "chat") {
            setInvitation(prevState => {
                return {...prevState, type: "chat"};
            });
            setStage("invitation-start");
        } else {
            setInvitation(prevState => {
                return {...prevState, type: "date"};
            })
            setStage("invitation-start");
        }
    };

    /* JSX Output */
    return (
        <div className="create-invitation-type-container">
            <div className="selection-container">
                <div
                    className="chat-container">
                    <p>Chat</p>
                    <div
                        onClick={() => handleClick("chat")}
                        className="icon-container">
                        <svg width="160" height="128" viewBox="0 0 160 128" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_29_22)">
                                <path d="M42.67 112.56L35.52 110.61C34.01 110.2 32.81 109 32.39 107.48L30.44 100.33C30.39 100.13 30.21 100 30 100C29.79 100 29.62 100.14 29.56 100.33L27.61 107.48C27.2 108.99 26 110.19 24.48 110.61L17.33 112.56C17.13 112.61 17 112.79 17 113C17 113.21 17.14 113.38 17.33 113.44L24.48 115.39C25.99 115.8 27.19 117 27.61 118.52L29.56 125.67C29.67 126.06 30.33 126.06 30.44 125.67L32.39 118.52C32.8 117.01 34 115.81 35.52 115.39L42.67 113.44C42.87 113.39 43 113.21 43 113C43 112.79 42.86 112.62 42.67 112.56V112.56Z" fill="white"/>
                                <path d="M90 50.06V18.04C90 12.5 85.51 8 79.96 8H10.04C4.49 8 0 12.49 0 18.04V62.9C0 68.44 4.49 72.94 10.04 72.94H42.5C43.99 72.94 45.32 73.9 45.79 75.31L49.21 85.57C49.68 86.99 51.01 87.94 52.5 87.94C53.99 87.94 55.32 86.98 55.79 85.57L59.21 75.31C59.68 73.89 61.01 72.94 62.5 72.94H72V68.1C72 58.17 80.07 50.09 90 50.06V50.06ZM25 45.5C22.24 45.5 20 43.26 20 40.5C20 37.74 22.24 35.5 25 35.5C27.76 35.5 30 37.74 30 40.5C30 43.26 27.76 45.5 25 45.5ZM46 45.5C43.24 45.5 41 43.26 41 40.5C41 37.74 43.24 35.5 46 35.5C48.76 35.5 51 37.74 51 40.5C51 43.26 48.76 45.5 46 45.5ZM65 45.5C62.24 45.5 60 43.26 60 40.5C60 37.74 62.24 35.5 65 35.5C67.76 35.5 70 37.74 70 40.5C70 43.26 67.76 45.5 65 45.5Z" fill="white"/>
                                <path d="M149.96 58.0601H90.03C90.03 58.0601 90.01 58.0601 89.99 58.0601C84.46 58.0801 79.99 62.5601 79.99 68.1001V102.96C79.99 108.5 84.48 113 90.03 113H102.49C103.98 113 105.31 113.96 105.78 115.37L109.2 125.63C109.67 127.05 111 128 112.49 128C113.98 128 115.31 127.04 115.78 125.63L119.2 115.37C119.67 113.95 121 113 122.49 113H149.95C155.49 113 159.99 108.51 159.99 102.96V68.1001C159.99 62.5601 155.5 58.0601 149.95 58.0601H149.96ZM100 90.5001C97.24 90.5001 95 88.2601 95 85.5001C95 82.7401 97.24 80.5001 100 80.5001C102.76 80.5001 105 82.7401 105 85.5001C105 88.2601 102.76 90.5001 100 90.5001ZM121 90.5001C118.24 90.5001 116 88.2601 116 85.5001C116 82.7401 118.24 80.5001 121 80.5001C123.76 80.5001 126 82.7401 126 85.5001C126 88.2601 123.76 90.5001 121 90.5001ZM140 90.5001C137.24 90.5001 135 88.2601 135 85.5001C135 82.7401 137.24 80.5001 140 80.5001C142.76 80.5001 145 82.7401 145 85.5001C145 88.2601 142.76 90.5001 140 90.5001Z" fill="white"/>
                                <path d="M118.42 19.22L127.98 21.83C129.77 22.32 131.18 23.73 131.67 25.52L134.28 35.08C134.43 35.62 134.93 36 135.49 36C136.08 36 136.58 35.62 136.73 35.08L139.34 25.52C139.83 23.73 141.24 22.32 143.03 21.83L152.59 19.22C153.13 19.07 153.51 18.57 153.51 18.01C153.51 17.42 153.13 16.92 152.59 16.77L143.03 14.16C141.24 13.67 139.83 12.26 139.34 10.47L136.73 0.90999C136.58 0.36999 136.08 -0.0100098 135.52 -0.0100098C134.93 -0.0100098 134.43 0.36999 134.28 0.90999L131.67 10.47C131.18 12.26 129.77 13.67 127.98 14.16L118.42 16.77C117.88 16.92 117.5 17.42 117.5 17.98C117.5 18.57 117.88 19.07 118.42 19.22V19.22Z" fill="white"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_29_22">
                                    <rect width="160" height="128" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>
                <div
                    className="date-container">
                    <p>Date</p>
                    <div
                        onClick={() => handleClick("date")}
                        className="icon-container">
                        <svg width="146" height="139" viewBox="0 0 146 139" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clipPath="url(#clip0_25_6)">
                                <path d="M115.07 89.29L81.81 80.42C80 79.94 78.57 78.51 78.09 76.7L69.22 43.44C69.07 42.89 68.58 42.51 68.01 42.51C67.44 42.51 66.94 42.89 66.8 43.44L57.93 76.7C57.45 78.51 56.02 79.94 54.21 80.42L20.95 89.29C20.4 89.44 20.02 89.93 20.02 90.5C20.02 91.07 20.4 91.57 20.95 91.71L54.21 100.58C56.02 101.06 57.45 102.49 57.93 104.3L66.8 137.56C66.95 138.11 67.44 138.49 68.01 138.49C68.58 138.49 69.08 138.11 69.22 137.56L78.09 104.3C78.57 102.49 80 101.06 81.81 100.58L115.07 91.71C115.62 91.56 116 91.07 116 90.5C116 89.93 115.62 89.43 115.07 89.29V89.29Z" fill="white"/>
                                <path d="M25.52 39.33L35.08 36.72C35.62 36.57 36 36.07 36 35.51C36 34.92 35.62 34.42 35.08 34.27L25.52 31.66C23.73 31.17 22.32 29.76 21.83 27.97L19.22 18.41C19.07 17.87 18.57 17.49 18.01 17.49C17.42 17.49 16.92 17.87 16.77 18.41L14.16 27.97C13.67 29.76 12.26 31.17 10.47 31.66L0.92 34.28C0.38 34.43 0 34.93 0 35.49C0 36.08 0.38 36.58 0.92 36.73L10.48 39.34C12.27 39.83 13.68 41.24 14.17 43.03L16.78 52.59C16.93 53.13 17.43 53.51 17.99 53.51C18.58 53.51 19.08 53.13 19.23 52.59L21.84 43.03C22.33 41.24 23.74 39.83 25.53 39.34L25.52 39.33Z" fill="white"/>
                                <path d="M145.1 26.73L127.89 21.67C126.17 21.16 124.84 19.83 124.33 18.11L119.27 0.9C119.11 0.37 118.62 0 118.07 0H117.94C117.39 0 116.89 0.37 116.74 0.9L111.68 18.11C111.17 19.83 109.84 21.16 108.12 21.67L90.91 26.73C90.38 26.89 90.01 27.38 90.01 27.93V28.06C90.01 28.61 90.38 29.11 90.91 29.26L108.12 34.32C109.84 34.83 111.17 36.16 111.68 37.88L116.74 55.09C116.9 55.62 117.39 55.99 117.94 55.99H118.07C118.62 55.99 119.12 55.62 119.27 55.09L124.33 37.88C124.84 36.16 126.17 34.83 127.89 34.32L145.1 29.26C145.63 29.1 146 28.61 146 28.06V27.93C146 27.38 145.63 26.88 145.1 26.73V26.73Z" fill="white"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_25_6">
                                    <rect width="146" height="138.5" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    )
};

export default CreateInvitationType;